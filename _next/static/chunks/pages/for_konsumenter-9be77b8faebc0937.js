(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[730],{7469:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/for_konsumenter",function(){return t(178)}])},178:function(e,n,t){"use strict";t.r(n),t.d(n,{__toc:function(){return l}});var s=t(5893),r=t(2673),i=t(7758),o=t(567);t(9128);var a=t(9530);let l=[{depth:2,value:"Oppsett",id:"oppsett"},{depth:2,value:"Autentisering",id:"autentisering"},{depth:2,value:"API-dokumentasjon og kontrakter for DTO-klasser",id:"api-dokumentasjon-og-kontrakter-for-dto-klasser"}];function _createMdxContent(e){let n=Object.assign({h1:"h1",h2:"h2",p:"p",pre:"pre",code:"code",span:"span",a:"a"},(0,a.a)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{children:"For konsumenter"}),"\n",(0,s.jsx)(n.h2,{id:"oppsett",children:"Oppsett"}),"\n",(0,s.jsx)(n.p,{children:"For \xe5 ta i bruk dp-iverksett m\xe5 klient-applikasjonen \xe5pne for trafikk til tjenesten. Legg inn f\xf8lgende kodesnutt i deres\nnais-konfig:"}),"\n",(0,s.jsx)(n.pre,{"data-language":"yaml","data-theme":"default",children:(0,s.jsxs)(n.code,{"data-language":"yaml","data-theme":"default",children:[(0,s.jsxs)(n.span,{className:"line",children:[(0,s.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"accessPolicy"}),(0,s.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,s.jsxs)(n.span,{className:"line",children:[(0,s.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,s.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"outbound"}),(0,s.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,s.jsxs)(n.span,{className:"line",children:[(0,s.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,s.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"rules"}),(0,s.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,s.jsxs)(n.span,{className:"line",children:[(0,s.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      - "}),(0,s.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"application"}),(0,s.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,s.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,s.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"dp-iverksett"})]}),"\n",(0,s.jsxs)(n.span,{className:"line",children:[(0,s.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,s.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"namespace"}),(0,s.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,s.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,s.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"teamdagpenger"})]})]})}),"\n",(0,s.jsx)(n.p,{children:"Tilsvarende m\xe5 vi \xe5pne for trafikk fra deres klient-applikasjon i dp-iverksett. Opprett en pull request i dp-iverksett med f\xf8lgende kodesnutt i nais-konfig:"}),"\n",(0,s.jsx)(n.pre,{"data-language":"yaml","data-theme":"default",children:(0,s.jsxs)(n.code,{"data-language":"yaml","data-theme":"default",children:[(0,s.jsxs)(n.span,{className:"line",children:[(0,s.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"accessPolicy"}),(0,s.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,s.jsxs)(n.span,{className:"line",children:[(0,s.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,s.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"inbound"}),(0,s.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,s.jsxs)(n.span,{className:"line",children:[(0,s.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,s.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"rules"}),(0,s.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,s.jsxs)(n.span,{className:"line",children:[(0,s.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      - "}),(0,s.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"application"}),(0,s.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,s.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" ["}),(0,s.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"applikasjonsnavn"}),(0,s.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"]"})]}),"\n",(0,s.jsxs)(n.span,{className:"line",children:[(0,s.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,s.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"namespace"}),(0,s.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,s.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" ["}),(0,s.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"namespace"}),(0,s.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"]"})]})]})}),"\n",(0,s.jsx)(n.p,{children:"Merk at disse reglene legger opp til service-til-service-kommunikasjon innenfor samme kubernetes-cluster. Det vil si at\nklient-applikasjonen m\xe5 bruke dp-iverksett sin service discovery-url. Bruk en av f\xf8lgende URL-er:"}),"\n",(0,s.jsx)(n.pre,{"data-language":"text","data-theme":"default",children:(0,s.jsxs)(n.code,{"data-language":"text","data-theme":"default",children:[(0,s.jsx)(n.span,{className:"line",children:(0,s.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"http://dp-iverksett.teamdagpenger"})}),"\n",(0,s.jsx)(n.span,{className:"line",children:(0,s.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"http://dp-iverksett.teamdagpenger.svc.cluster.local"})})]})}),"\n",(0,s.jsx)(n.p,{children:"Ta kontakt med oss dersom deres klient-applikasjon m\xe5 bruke ingressen for \xe5 kommunisere med dp-iverksett."}),"\n",(0,s.jsx)(n.h2,{id:"autentisering",children:"Autentisering"}),"\n",(0,s.jsxs)(n.p,{children:["Tjenesten krever Azure Client Credentials-token, dvs. system-til-system-token, p\xe5 alle kall. Les mer om autentisering i\n",(0,s.jsx)(n.a,{href:"https://docs.nais.io/security/auth/#authentication-and-authorization",children:"nais-dokumentasjonen"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"api-dokumentasjon-og-kontrakter-for-dto-klasser",children:"API-dokumentasjon og kontrakter for DTO-klasser"}),"\n",(0,s.jsxs)(n.p,{children:["dp-iverksett har swagger-dokumentasjon ",(0,s.jsx)(n.a,{href:"https://dp-iverksett.intern.nav.no/swagger-ui/index.html",children:"her"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["Vi har samlet alle DTO-ene som brukes av API-et i et bibliotek. Se ",(0,s.jsx)(n.a,{href:"https://github.com/navikt/dp-kontrakter",children:"dp-kontrakter p\xe5 github"}),"\nog bruk pakken ",(0,s.jsx)(n.a,{href:"https://github.com/navikt/dp-kontrakter/packages/1868090",children:"iverksett"}),"."]})]})}function MDXContent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,a.a)(),e.components);return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(_createMdxContent,{...e})}):_createMdxContent(e)}let c={MDXContent,pageOpts:{filePath:"pages/for_konsumenter.mdx",route:"/for_konsumenter",frontMatter:{title:"For konsumenter"},pageMap:[{kind:"Meta",data:{index:"Om tjenesten",for_konsumenter:"For konsumenter",utvikling:"Utvikling"}},{kind:"Folder",name:"for_konsumenter",route:"/for_konsumenter",children:[{kind:"MdxPage",name:"iverksetting",route:"/for_konsumenter/iverksetting",frontMatter:{title:"Iverksetting"}},{kind:"Meta",data:{iverksetting:"Iverksetting"}}]},{kind:"MdxPage",name:"for_konsumenter",route:"/for_konsumenter",frontMatter:{title:"For konsumenter"}},{kind:"MdxPage",name:"index",route:"/",frontMatter:{title:"Om tjenesten"}},{kind:"MdxPage",name:"utvikling",route:"/utvikling"}],flexsearch:{codeblocks:!0},title:"For konsumenter",headings:l},pageNextRoute:"/for_konsumenter",nextraLayout:i.ZP,themeConfig:o.Z};n.default=(0,r.j)(c)},567:function(e,n,t){"use strict";t.d(n,{Z:function(){return f}});var s=t(5893);t(7294);var r=t(1664),i=t.n(r),o=t(3419),a=t(5675),l=t.n(a),c=t(714),d=t(428),k=t(967),h=t.n(k),p=t(8639),x=t.n(p),u=t(3511),j=t(4442),v=t.n(j),m=t(7758),g=t(1163);let y={logo:(0,s.jsx)(()=>(0,s.jsxs)(c.U,{gap:"6",align:"center",children:[(0,s.jsx)(l(),{src:"/dp-iverksett/_next/static/media/nav-logo-red.d4f54b6e.svg",alt:"",width:"64",height:"20"}),(0,s.jsx)("span",{className:h().headerDivider}),(0,s.jsx)(d.Z,{weight:"semibold",size:"large",children:"DP-Iverksett"})]}),{}),project:{link:"https://github.com/navikt/dp-iverksett"},head:()=>{let{asPath:e,defaultLocale:n,locale:t}=(0,g.useRouter)(),{frontMatter:r}=(0,m.ZR)(),i="https://navikt.github.io/dp-iverksett"+(n===t?e:"/".concat(t).concat(e));return console.log(r),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("title",{children:[r.title," - DP-Iverksett"]}),(0,s.jsx)("meta",{property:"og:url",content:i}),(0,s.jsx)("meta",{property:"og:title",content:"".concat(r.title," - DP-Iverksett")}),(0,s.jsx)("meta",{property:"og:description",content:r.description})]})},docsRepositoryBase:"https://github.com/navikt/dp-iverksett",footer:{text:"\xa9 2023 NAV IT"},feedback:{content:(0,s.jsx)(e=>{let{children:n}=e;return(0,s.jsxs)(o.Z,{className:v().label,children:[n," ",(0,s.jsx)(u.Z,{})]})},{children:"Gi oss tilbakemelding"})},editLink:{text:(0,s.jsx)(o.Z,{children:"Rediger denne siden"}),component:e=>{let{className:n,children:t,filePath:r}=e;return(0,s.jsx)(i(),{className:n,href:"https://github.com/navikt/dp-iverksett/blob/docs/".concat(r),children:t})}},toc:{title:(0,s.jsx)("span",{style:{color:"var(--a-text-default"},children:"P\xe5 denne siden"})},search:{placeholder:"S\xf8k i dokumentasjonen",emptyResult:(0,s.jsx)(()=>(0,s.jsx)(c.U,{className:x().container,justify:"center",align:"center",children:(0,s.jsx)(o.Z,{children:"Ingen treff"})}),{})}};var f=y},4442:function(e){e.exports={label:"ExternalLabel_label__BifXB"}},8639:function(e){e.exports={container:"IngenTreff_container__FJnjf"}},967:function(e){e.exports={headerDivider:"Logo_headerDivider__2JJVQ"}}},function(e){e.O(0,[73,774,888,179],function(){return e(e.s=7469)}),_N_E=e.O()}]);